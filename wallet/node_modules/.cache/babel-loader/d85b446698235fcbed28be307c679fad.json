{"ast":null,"code":"import _defineProperty from\"/home/neo/Desktop/gitHub/All Trybe Projects/Wallet/wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/neo/Desktop/gitHub/All Trybe Projects/Wallet/wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/neo/Desktop/gitHub/All Trybe Projects/Wallet/wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/neo/Desktop/gitHub/All Trybe Projects/Wallet/wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/neo/Desktop/gitHub/All Trybe Projects/Wallet/wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/neo/Desktop/gitHub/All Trybe Projects/Wallet/wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{setEmail}from'../actions';import'./login.css';import logo from'./echangeImg.jpg';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={email:'',password:'',loading:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.validate=_this.validate.bind(_assertThisInitialized(_this));_this.clickHandler=_this.clickHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleChange\",value:function handleChange(_ref){var target=_ref.target;var name=target.name,value=target.value;this.setState(_defineProperty({},name,value));}},{key:\"checkMail\",value:function checkMail(email){var emailRegex=/^([\\w.-]+)@([\\w-]+)((.(\\w){2,3})+)$/;return emailRegex.test(email);}},{key:\"checkPassword\",value:function checkPassword(password){var min=6;if(password.length>=min){return true;}}},{key:\"validate\",value:function validate(){var _this$state=this.state,password=_this$state.password,email=_this$state.email;return this.checkPassword(password)&&this.checkMail(email);}},{key:\"clickHandler\",value:function clickHandler(){var _this$props=this.props,history=_this$props.history,getEmail=_this$props.getEmail;var email=this.state.email;this.setState({loading:true});var timer=2100;getEmail(email);if(this.validate())setTimeout(function(){return history.push('/carteira');},timer);}},{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,loading=_this$state2.loading;return/*#__PURE__*/React.createElement(\"div\",{className:\"backgroundLogin\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loginBox teste\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inputContainer teste\"},loading?/*#__PURE__*/React.createElement(\"img\",{src:logo,alt:\"logo\",className:\"aniLogo\"}):/*#__PURE__*/React.createElement(\"img\",{src:logo,alt:\"logo\",className:\"logo\"}),/*#__PURE__*/React.createElement(\"input\",{className:\"email\",placeholder:\"Insert your E-mail\",name:\"email\",type:\"email\",value:email,\"data-testid\":\"email-input\",onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"input\",{className:\"password\",placeholder:\"Insert Password\",name:\"password\",type:\"password\",value:password,\"data-testid\":\"password-input\",onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",type:\"button\",onClick:this.clickHandler,disabled:!this.validate()},\"Entrar\")))));}}]);return Login;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getEmail:function getEmail(email){return dispatch(setEmail(email));}};};export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/neo/Desktop/gitHub/All Trybe Projects/Wallet/wallet/src/pages/Login.js"],"names":["React","connect","setEmail","logo","Login","props","state","email","password","loading","handleChange","bind","validate","clickHandler","target","name","value","setState","emailRegex","test","min","length","checkPassword","checkMail","history","getEmail","timer","setTimeout","push","Component","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { setEmail } from '../actions';\nimport './login.css';\nimport logo from './echangeImg.jpg';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      loading: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.validate = this.validate.bind(this);\n    this.clickHandler = this.clickHandler.bind(this);\n  }\n\n  handleChange({ target }) {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  checkMail(email) {\n    const emailRegex = /^([\\w.-]+)@([\\w-]+)((.(\\w){2,3})+)$/;\n    return emailRegex.test(email);\n  }\n\n  checkPassword(password) {\n    const min = 6;\n    if (password.length >= min) {\n      return true;\n    }\n  }\n\n  validate() {\n    const { password, email } = this.state;\n    return this.checkPassword(password) && this.checkMail(email);\n  }\n\n  clickHandler() {\n    const { history, getEmail } = this.props;\n    const { email } = this.state;\n    this.setState({ loading: true });\n    const timer = 2100;\n    getEmail(email);\n    if (this.validate()) setTimeout(() => history.push('/carteira'), timer);\n  }\n\n  render() {\n    const { email, password, loading } = this.state;\n    return (\n      <div className=\"backgroundLogin\">\n        <div className=\"login\">\n          <div className=\"loginBox teste\">\n            <div className=\"inputContainer teste\">\n              {loading ? <img src={ logo } alt=\"logo\" className=\"aniLogo\" />\n                : <img src={ logo } alt=\"logo\" className=\"logo\" /> }\n              <input\n                className=\"email\"\n                placeholder=\"Insert your E-mail\"\n                name=\"email\"\n                type=\"email\"\n                value={ email }\n                data-testid=\"email-input\"\n                onChange={ this.handleChange }\n              />\n              <input\n                className=\"password\"\n                placeholder=\"Insert Password\"\n                name=\"password\"\n                type=\"password\"\n                value={ password }\n                data-testid=\"password-input\"\n                onChange={ this.handleChange }\n              />\n              <button\n                className=\"btn\"\n                type=\"button\"\n                onClick={ this.clickHandler }\n                disabled={ !this.validate() }\n              >\n                Entrar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  getEmail: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  getEmail: (email) => dispatch(setEmail(email)),\n});\n\nexport default connect(null, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}